<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>sign_up</title>
    <link rel="prconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
    <form id="contact-form" action="/api/users/register" method="POST">

    <title>Sign Up</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Inscrever-se</h1>
    <p>Preencha suas informações</p>

    <form id="contact-form" action="/api/users/registrar" method="POST">

        <div class="input-container">
            <label for="nome"><i class="fas fa-user"></i> Nome de usuário:</label>
            <input type="text" id="nome" name="nome" required>
        </div>
    
        <div class="input-container">
            <label for="email"><i class="fas fa-envelope"></i> E-mail:</label>
            <input type="email" id="email" name="email" required>
        </div>
    
        <div class="input-container">
            <label for="telefone"><i class="fas fa-phone"></i> Telefone:</label>
            <input type="tel" id="telefone" name="telefone" required>
        </div>
    
        <div class="input-container">
            <label for="senha"><i class="fas fa-lock"></i> Senha:</label>
            <input type="password" id="senha" name="senha">



        </div>
    
        <button type="submit">Enviar</button>
    </form>

    
    <script>
        document.getElementById('contact-form').addEventListener('submit', async function(event) {
            // Impedir o envio padrão do formulário
            event.preventDefault();
    
            // Enviar o formulário via fetch
            const formData = new FormData(this);
            try {
                const response = await fetch('/api/users/register', {
                    method: 'POST',
                    body: formData
                });
                if (response.ok) {
                    // Redirecionar para a página inicial após o envio bem-sucedido
                    window.location.href = '/pesquisar'; // Altere para o caminho correto da página inicial se necessário
                } else {
                    throw new Error('Erro ao enviar formulário');
                }
            } catch (error) {
                console.error('Erro:', error);
                // Tratar o erro, se necessário
            }
        });
    </script>
    

</body>

<style>



body{
        background-color: rgb(15, 15, 19);
}

/* inscrever-se */
h1{
        font-family: "Poppins", sans-serif;
  font-weight: 600;
  font-style: normal;
  margin: 35px;
  color: #ffffff;
  
}


/* preencha suas informações */
p{
font-family: "Poppins", sans-serif;
  font-weight: 200;
  font-style: normal;
  margin: 30px;
}


p{
        font-family: "Poppins", sans-serif;
  font-weight: 400;
  font-style: normal;
  margin: 30px;
  color: #ffffff;
}

form{
    font-family: "Poppins", sans-serif;
  font-weight: 400;
  font-style: normal;
border-radius: 6px;
margin: 30px;
color: black;
}


button {
    margin-top: 20px; /* Margem entre o último input e o botão */
    padding: 15px 20px; /* Aumenta o tamanho do botão */
    border: none;
    font-size: 18px; /* Aumenta o tamanho da fonte */
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 15px; /* Deixa o botão com bordas redondas */
    background: #ffffff;
    width: calc(100% - 40px); /* Faz o botão ocupar toda a largura do formulário menos o padding do form */
    text-align: center; /* Centraliza o texto dentro do botão */
    font-family: "Poppins", sans-serif;
    width: 100%;
}

button:active {
    transform: scale(0.96);
}

button:hover {
    background: #5802db;
}

form {
    padding: 5px;
    border-radius: 8px;
    width: 100%;
    max-width: 400px;
    display: flex;
    flex-direction: column;
}

label {
    margin-top: 6px;
    font-weight: 500;
    color: #ccc; /* Cor do texto cinza claro */
}

input, textarea {
    padding: 10px;
    margin-top: 5px;
    border: 1px solid #ccc; /* Borda cinza claro */
    border-radius: 10px; /* Deixa os campos com bordas redondas */
    font-family: 'Poppins', sans-serif;
    font-size: 16px;
    width: 100%;
    background-color: #000; /* Cor de fundo preto */
    color: #ccc; /* Cor do texto cinza claro */
}

textarea {
    resize: vertical;
    min-height: 100px;
}

.input-container {
    position: relative;
    margin-bottom: 20px;
}

.input-container label {
    position: relative;
    padding-left: 30px; /* Ajuste conforme necessário para acomodar o ícone */
}

.input-container i {
    position: absolute;
    left: 8px; /* Ajuste conforme necessário para posicionar o ícone */
    top: 50%;
    transform: translateY(-50%);
}

.input-container input {
    width: calc(100% - 40px); /* Ajuste conforme necessário para acomodar o ícone */
    padding: 10px;
}


</style>



</html>

    <script>
        document.getElementById('contact-form').addEventListener('submit', async function(event) {
            event.preventDefault();

            const formData = new FormData(this);
            try {
                const response = await fetch('/api/users/registrar', {
                    method: 'POST',
                    body: JSON.stringify({
                        nome: formData.get('nome'),
                        email: formData.get('email'),
                        telefone: formData.get('telefone'),
                        senha: formData.get('senha')
                    }),
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    window.location.href = '/pesquisar';
                } else {
                    const errorText = await response.text();
                    alert('Erro ao enviar formulário: ' + errorText);
                }
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao enviar formulário: ' + error.message);
            }
        });
    </script>
</body>

<style>
    body {
        background-color: rgb(15, 15, 19);
        color: #ffffff;
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
    }

    h1 {
        font-weight: 600;
        margin: 35px;
    }

    p {
        font-weight: 400;
        margin: 30px;
    }

    form {
        border-radius: 8px;
        margin: 30px auto;
        padding: 20px;
        background: #222;
        max-width: 400px;
        width: 90%;
        color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .input-container {
        position: relative;
        margin-bottom: 20px;
    }

    .input-container label {
        position: relative;
        padding-left: 30px;
    }

    .input-container i {
        position: absolute;
        left: 8px;
        top: 50%;
        transform: translateY(-50%);
        color: #aaa;
    }

    input, textarea {
        padding: 10px;
        margin-top: 5px;
        border: 1px solid #555;
        border-radius: 10px;
        font-size: 16px;
        width: calc(100% - 30px);
        background-color: #000;
        color: #ccc;
    }

    button {
        margin-top: 20px;
        padding: 15px 20px;
        border: none;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.2s ease;
        border-radius: 15px;
        background: #ffffff;
        color: #000;
        width: 100%;
        text-align: center;
        font-family: "Poppins", sans-serif;
    }

    button:active {
        transform: scale(0.96);
    }

    button:hover {
        background: #5802db;
        color: #fff;
    }
</style>
</html>

